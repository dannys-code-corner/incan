---
source: tests/codegen_snapshot_tests.rs
expression: rust_code
---
// Generated by the Incan compiler v<INCAN_VERSION>

#![allow(unused_imports, dead_code, unused_variables)]

// __INCAN_INSERT_MODS__

use incan_stdlib::prelude::*;
use incan_derive::{FieldInfo, IncanClass};
#[derive(Debug, Clone, FieldInfo, IncanClass)]
struct Point {
    x: i64,
    y: i64,
}
#[allow(non_snake_case, clippy::too_many_arguments)]
fn Point(x: i64, y: i64) -> Point {
    Point { x, y }
}
#[derive(Debug, Clone, FieldInfo, IncanClass)]
struct Rectangle {
    width: i64,
    height: i64,
}
#[allow(non_snake_case, clippy::too_many_arguments)]
fn Rectangle(width: i64, height: i64) -> Rectangle {
    Rectangle { width, height }
}
#[derive(Debug, Clone, FieldInfo, IncanClass)]
struct Circle {
    radius: f64,
}
#[allow(non_snake_case, clippy::too_many_arguments)]
fn Circle(radius: f64) -> Circle {
    Circle { radius }
}
impl Circle {
    fn area(&self) -> f64 {
        return 3.14159f64 * self.radius * self.radius;
    }
    fn circumference(&self) -> f64 {
        return 2f64 * 3.14159f64 * self.radius;
    }
}
#[derive(Debug, Clone, FieldInfo, IncanClass)]
struct Counter {
    count: i64,
}
#[allow(non_snake_case, clippy::too_many_arguments)]
fn Counter(count: i64) -> Counter {
    Counter { count }
}
impl Counter {
    fn increment(&mut self) {
        self.count = self.count + 1;
    }
    fn decrement(&mut self) {
        self.count = self.count - 1;
    }
    fn get_count(&self) -> i64 {
        return self.count;
    }
    fn reset(&mut self) {
        self.count = 0;
    }
}
#[derive(Debug, Clone, FieldInfo, IncanClass)]
struct Stack {
    items: Vec<i64>,
}
#[allow(non_snake_case, clippy::too_many_arguments)]
fn Stack(items: Vec<i64>) -> Stack {
    Stack { items }
}
impl Stack {
    fn push(&mut self, item: i64) {
        self.items.push(item);
    }
    fn pop(&self) -> i64 {
        if self.items.len() as i64 > 0 {
            return self.items.pop().unwrap_or_default();
        }
        return -1;
    }
    fn is_empty(&self) -> bool {
        return self.items.len() as i64 == 0;
    }
    fn size(&self) -> i64 {
        return self.items.len() as i64;
    }
}
#[derive(Debug, Clone, FieldInfo, IncanClass)]
struct Calculator {
    name: String,
}
#[allow(non_snake_case, clippy::too_many_arguments)]
fn Calculator(name: String) -> Calculator {
    Calculator { name }
}
impl Calculator {
    fn add(&self, a: i64, b: i64) -> i64 {
        return a + b;
    }
    fn subtract(&self, a: i64, b: i64) -> i64 {
        return a - b;
    }
    fn multiply(&self, a: i64, b: i64) -> i64 {
        return a * b;
    }
}
#[derive(Debug, Clone, FieldInfo, IncanClass)]
struct Person {
    name: String,
    age: i64,
}
#[allow(non_snake_case, clippy::too_many_arguments)]
fn Person(name: String, age: i64) -> Person {
    Person { name, age }
}
impl Person {
    fn greet(&self) -> String {
        return {
            let __parts: [&str; 2usize] = ["Hello, I'm ", ""];
            let __args: Vec<String> = vec![format!("{}", self.name)];
            incan_stdlib::strings::fstring(&__parts, &__args)
        };
    }
}
#[derive(Debug, Clone, FieldInfo, IncanClass)]
struct Employee {
    person: Person,
    employee_id: i64,
}
#[allow(non_snake_case, clippy::too_many_arguments)]
fn Employee(person: Person, employee_id: i64) -> Employee {
    Employee { person, employee_id }
}
impl Employee {
    fn get_info(&self) -> String {
        let greeting = self.person.greet();
        return {
            let __parts: [&str; 3usize] = ["", " (ID: ", ")"];
            let __args: Vec<String> = vec![
                format!("{}", greeting), format!("{}", self.employee_id)
            ];
            incan_stdlib::strings::fstring(&__parts, &__args)
        };
    }
}
fn main() {
    let mut p = Point { x: 0, y: 0 };
    p.x = 10;
    p.y = 20;
    println!(
        "{}", { let __parts : [& str; 3usize] = ["Point: (", ", ", ")"]; let __args : Vec
        < String > = vec![format!("{}", p.x), format!("{}", p.y)];
        incan_stdlib::strings::fstring(& __parts, & __args) }
    );
    let rect = Rectangle { width: 5, height: 10 };
    println!(
        "{}", { let __parts : [& str; 3usize] = ["Rectangle: ", "x", ""]; let __args :
        Vec < String > = vec![format!("{}", rect.width), format!("{}", rect.height)];
        incan_stdlib::strings::fstring(& __parts, & __args) }
    );
    let circle = Circle { radius: 5f64 };
    let area = circle.area();
    let circumference = circle.circumference();
    println!(
        "{}", { let __parts : [& str; 3usize] = ["Circle area: ", ", circumference: ",
        ""]; let __args : Vec < String > = vec![format!("{}", area), format!("{}",
        circumference)]; incan_stdlib::strings::fstring(& __parts, & __args) }
    );
    let mut counter = Counter { count: 0 };
    counter.increment();
    counter.increment();
    counter.increment();
    let count = counter.get_count();
    println!(
        "{}", { let __parts : [& str; 2usize] = ["Counter: ", ""]; let __args : Vec <
        String > = vec![format!("{}", count)]; incan_stdlib::strings::fstring(& __parts,
        & __args) }
    );
    counter.decrement();
    println!(
        "{}", { let __parts : [& str; 2usize] = ["After decrement: ", ""]; let __args :
        Vec < String > = vec![format!("{}", counter.get_count())];
        incan_stdlib::strings::fstring(& __parts, & __args) }
    );
    let items_list = vec![];
    let mut stack = Stack { items: items_list };
    stack.push(10);
    stack.push(20);
    stack.push(30);
    println!(
        "{}", { let __parts : [& str; 2usize] = ["Stack size: ", ""]; let __args : Vec <
        String > = vec![format!("{}", stack.size())]; incan_stdlib::strings::fstring(&
        __parts, & __args) }
    );
    let top = stack.pop().unwrap_or_default();
    println!(
        "{}", { let __parts : [& str; 2usize] = ["Popped: ", ""]; let __args : Vec <
        String > = vec![format!("{}", top)]; incan_stdlib::strings::fstring(& __parts, &
        __args) }
    );
    let calc = Calculator {
        name: "BasicCalc".to_string(),
    };
    let result = calc.add(5, 3);
    println!(
        "{}", { let __parts : [& str; 2usize] = ["5 + 3 = ", ""]; let __args : Vec <
        String > = vec![format!("{}", result)]; incan_stdlib::strings::fstring(& __parts,
        & __args) }
    );
    let alice = Person {
        name: "Alice".to_string(),
        age: 30,
    };
    let emp = Employee {
        person: alice,
        employee_id: 12345,
    };
    let info = emp.get_info();
    println!("{}", info);
}
