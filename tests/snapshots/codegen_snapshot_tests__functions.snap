---
source: tests/codegen_snapshot_tests.rs
assertion_line: 165
expression: rust_code
---
// Generated by the Incan compiler v<INCAN_VERSION>

#![allow(unused_imports, dead_code, unused_variables)]

// __INCAN_INSERT_MODS__

use incan_stdlib::prelude::*;
use incan_derive::{FieldInfo, IncanClass};
fn greet() -> String {
    return "Hello, World!".to_string();
}
fn add(a: i64, b: i64) -> i64 {
    return a + b;
}
fn format_message(name: String, age: i64, is_active: bool) -> String {
    let mut status = "inactive".to_string();
    if is_active {
        status = "active";
    }
    return {
        let __parts: [&str; 4usize] = ["", " is ", " years old and ", ""];
        let __args: Vec<String> = vec![
            format!("{}", name), format!("{}", age), format!("{}", status)
        ];
        incan_stdlib::strings::fstring(&__parts, &__args)
    };
}
fn multiply(x: i64, y: i64) -> i64 {
    let result = x * y;
    return result;
}
fn factorial(n: i64) -> i64 {
    if n <= 1 {
        return 1;
    }
    return n * factorial(n - 1);
}
fn fibonacci(n: i64) -> i64 {
    if n <= 1 {
        return n;
    }
    return fibonacci(n - 1) + fibonacci(n - 2);
}
fn double(x: i64) -> i64 {
    return x * 2;
}
fn quadruple(x: i64) -> i64 {
    return double(double(x));
}
fn double_values(numbers: &mut Vec<i64>) {
    let mut idx = 0;
    *incan_stdlib::collections::list_get_mut(&mut numbers, (idx) as i64) = *incan_stdlib::collections::list_get(
        &numbers,
        (idx) as i64,
    ) * 2;
    idx = 1;
    *incan_stdlib::collections::list_get_mut(&mut numbers, (idx) as i64) = *incan_stdlib::collections::list_get(
        &numbers,
        (idx) as i64,
    ) * 2;
}
fn find_max(numbers: Vec<i64>) -> i64 {
    let mut max_val = *incan_stdlib::collections::list_get(&numbers, (0) as i64);
    for num in numbers.iter().copied() {
        if num > max_val {
            max_val = num;
        }
    }
    return max_val;
}
fn classify_number(x: i64) -> String {
    if x < 0 {
        return "negative".to_string();
    }
    if x == 0 {
        return "zero".to_string();
    }
    if x < 10 {
        return "small positive".to_string();
    }
    return "large positive".to_string();
}
fn print_greeting(name: String) {
    println!(
        "{}", { let __parts : [& str; 2usize] = ["Hello, ", "!"]; let __args : Vec <
        String > = vec![format!("{}", name)]; incan_stdlib::strings::fstring(& __parts, &
        __args) }
    );
}
fn get_coordinates() -> (i64, i64) {
    return (10, 20);
}
fn main() {
    let greeting = greet();
    println!("{}", greeting);
    let sum = add(5, 3);
    println!(
        "{}", { let __parts : [& str; 2usize] = ["5 + 3 = ", ""]; let __args : Vec <
        String > = vec![format!("{}", sum)]; incan_stdlib::strings::fstring(& __parts, &
        __args) }
    );
    let result = quadruple(5);
    println!(
        "{}", { let __parts : [& str; 2usize] = ["quadruple(5) = ", ""]; let __args : Vec
        < String > = vec![format!("{}", result)]; incan_stdlib::strings::fstring(&
        __parts, & __args) }
    );
    let fact = factorial(5);
    println!(
        "{}", { let __parts : [& str; 2usize] = ["factorial(5) = ", ""]; let __args : Vec
        < String > = vec![format!("{}", fact)]; incan_stdlib::strings::fstring(& __parts,
        & __args) }
    );
    let fib = fibonacci(7);
    println!(
        "{}", { let __parts : [& str; 2usize] = ["fibonacci(7) = ", ""]; let __args : Vec
        < String > = vec![format!("{}", fib)]; incan_stdlib::strings::fstring(& __parts,
        & __args) }
    );
    let test_nums = vec![1, 5, 3, 9, 2];
    let max_num = find_max(test_nums.clone());
    println!(
        "{}", { let __parts : [& str; 2usize] = ["max = ", ""]; let __args : Vec < String
        > = vec![format!("{}", max_num)]; incan_stdlib::strings::fstring(& __parts, &
        __args) }
    );
    let mut nums = vec![5, 10, 15];
    double_values(&mut nums);
    println!("{}", "List incremented");
    let category = classify_number(-5);
    println!("{}", category);
    let mut alice_name = "Alice".to_string();
    print_greeting(alice_name.to_string());
    let coords = get_coordinates();
    println!("{}", "Coordinates retrieved");
}
